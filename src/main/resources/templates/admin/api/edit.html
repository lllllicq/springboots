<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8">
    <title>
        编辑URL
    </title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <link rel="stylesheet" href="../static/css/x-admin.css" media="all">
</head>

<body>
<div class="x-body">
    <form class="layui-form" id="formsedit">
        <div class="layui-form-item layui-form-text">
            <label for="url" class="layui-form-label">
                接口URL
            </label>
            <div class="layui-input-block">
                <input type="text" id="url" readonly name="url"  required lay-verify="required" th:value="${urlPermission.url}"class="layui-input">
            </div>
        </div>
        <div class="layui-form-item layui-form-text">
            <label for="describes" class="layui-form-label">
                接口名称
            </label>
            <div class="layui-input-block">
                <input type="text" id="describes" name="describes" required th:value="${urlPermission.describes}"class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label for="rootParam" class="layui-form-label">
                根参数
            </label>
            <div class="layui-input-inline">
                <input type="text" id="rootParam" name="rootParam" required lay-verify="required"
                       autocomplete="off" placeholder="data" th:value="${rootParams}" class="layui-input">
            </div>
            <!--<div class="layui-inline">
                <div class="layui-input-inline" style="width: 220px;">
                    <span  class="layui-input">
                        多数据&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="radio" name="isfArray" value="0" checked title="否">
                        <input type="radio" name="isfArray" checked value="1" title="是">
                    </span>
                </div>
            </div>-->
        </div>

        <div class="site-demo-laytpl">
            <div>
                <span>主参数</span>
                <span>参数详情</span>
            </div>
            <textarea class="site-demo-text" style="height:200px" name="mainParams" id="data" th:text="${mainParams}"></textarea>

            <textarea class="site-demo-text"  style="height:200px" name="chilParams" id="tpl" th:text="${chilParams}"></textarea>
        </div>


        <div class="layui-form-item" style="text-align: center;">
            <br/>
            <button class="layui-btn" key="set-mine" lay-filter="save" lay-submit>
                保存
            </button>
        </div>
    </form>
</div>
<script src="../static/layui/layui.js" charset="utf-8">
</script>
<script src="../static/js/x-layui.js" charset="utf-8">
</script>
<script>
    layui.use(['form','layer'], function(){
        $ = layui.jquery;
        var form = layui.form()
            ,layer = layui.layer;

        form.on('submit(save)', function(data){
            $.post("../admin/saveApi.html?_="+new Date().getTime(),data.field,function(res){
                if(res.result){
                    layer.alert("保存成功", {icon: 6});
                    parent.location.reload();
                }else{
                    layer.alert("保存失败", {icon: 6});
                    parent.location.reload();
                }
            },'json');
            return false;
        });


    });
</script>
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?b393d153aeb26b46e9431fabaf0f6190";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>
</body>

</html>